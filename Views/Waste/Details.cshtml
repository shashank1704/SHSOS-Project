@model SHSOS.Models.WasteManagement

@{
    ViewData["Title"] = "Waste Record Details";
}

<div class="fade-in">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
        <h1 style="font-weight: 700;">‚ôªÔ∏è Waste Record Details</h1>
        <a asp-action="Index" class="btn btn-outline-primary">‚Üê Back to List</a>
    </div>

    <div class="row">
        <!-- Main Details Card -->
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">
                    <h3 style="margin: 0;">Waste Management Information</h3>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <dl>
                                <dt style="color: var(--text-secondary); font-size: 0.875rem; margin-bottom: 0.5rem;">Department</dt>
                                <dd style="font-size: 1.1rem; font-weight: 600; margin-bottom: 1.5rem;">
                                    @Model.Departments?.DepartmentName
                                    <span style="color: var(--text-secondary); font-size: 0.9rem; font-weight: 400;">
                                        (@Model.Departments?.hospitals?.HospitalName)
                                    </span>
                                </dd>

                                <dt style="color: var(--text-secondary); font-size: 0.875rem; margin-bottom: 0.5rem;">Collection Date</dt>
                                <dd style="font-size: 1.1rem; font-weight: 600; margin-bottom: 1.5rem;">@Model.CollectionDate.ToString("MMMM dd, yyyy")</dd>

                                <dt style="color: var(--text-secondary); font-size: 0.875rem; margin-bottom: 0.5rem;">Waste Type</dt>
                                <dd style="font-size: 1.1rem; font-weight: 600; margin-bottom: 1.5rem;">@Model.WasteType</dd>

                                <dt style="color: var(--text-secondary); font-size: 0.875rem; margin-bottom: 0.5rem;">Category</dt>
                                <dd style="font-size: 1.1rem; font-weight: 600; margin-bottom: 1.5rem;">
                                    <span class="badge" style="background: @(Model.WasteCategory == "Hazardous" ? "rgba(231, 76, 60, 0.1)" : "rgba(149, 165, 166, 0.1)"); color: @(Model.WasteCategory == "Hazardous" ? "#e74c3c" : "#7f8c8d"); padding: 0.5rem 1rem; font-size: 0.9rem;">
                                        @Model.WasteCategory
                                    </span>
                                </dd>

                                <dt style="color: var(--text-secondary); font-size: 0.875rem; margin-bottom: 0.5rem;">Weight</dt>
                                <dd style="font-size: 1.1rem; font-weight: 600; margin-bottom: 0;">@Model.WasteWeight Kg</dd>
                            </dl>
                        </div>
                        <div class="col-md-6">
                            <dl>
                                <dt style="color: var(--text-secondary); font-size: 0.875rem; margin-bottom: 0.5rem;">Segregation Status</dt>
                                <dd style="font-size: 1.1rem; font-weight: 600; margin-bottom: 1.5rem;">@Model.SegregationStatus</dd>

                                <dt style="color: var(--text-secondary); font-size: 0.875rem; margin-bottom: 0.5rem;">Disposal Method</dt>
                                <dd style="font-size: 1.1rem; font-weight: 600; margin-bottom: 1.5rem;">@Model.DisposalMethod</dd>

                                <dt style="color: var(--text-secondary); font-size: 0.875rem; margin-bottom: 0.5rem;">Disposal Cost</dt>
                                <dd style="font-size: 1.1rem; font-weight: 600; margin-bottom: 1.5rem;">‚Çπ@Model.DisposalCost</dd>

                                <dt style="color: var(--text-secondary); font-size: 0.875rem; margin-bottom: 0.5rem;">Disinfection Cost</dt>
                                <dd style="font-size: 1.1rem; font-weight: 600; margin-bottom: 1.5rem;">‚Çπ@Model.DisinfectionCost</dd>

                                <dt style="color: var(--text-secondary); font-size: 0.875rem; margin-bottom: 0.5rem;">Compliance Status</dt>
                                <dd style="font-size: 1.1rem; font-weight: 600; margin-bottom: 0;">
                                    @if (Model.ComplianceStatus == "Compliant")
                                    {
                                        <span style="color: #27ae60;">‚úì @Model.ComplianceStatus</span>
                                    }
                                    else
                                    {
                                        <span style="color: #e74c3c;">‚ö†Ô∏è @Model.ComplianceStatus</span>
                                    }
                                </dd>
                            </dl>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Summary Statistics Card -->
        <div class="col-md-4">
            <div class="card" style="margin-bottom: 1.5rem;">
                <div class="card-header" style="background: rgba(155, 89, 182, 0.1); border-bottom-color: #9b59b6;">
                    <h4 style="margin: 0; color: #9b59b6;">üí∞ Total Cost</h4>
                </div>
                <div class="card-body">
                    <div style="text-align: center; padding: 1rem;">
                        <div style="font-size: 0.875rem; color: var(--text-secondary); margin-bottom: 0.5rem;">Disposal + Disinfection</div>
                        <div style="font-size: 2.5rem; font-weight: 700; color: #9b59b6;">‚Çπ@Math.Round(Model.DisposalCost + Model.DisinfectionCost, 2)</div>
                    </div>
                </div>
            </div>

            <div class="card" style="margin-bottom: 1.5rem;">
                <div class="card-header" style="background: @(Model.ComplianceStatus == "Compliant" ? "rgba(46, 204, 113, 0.1)" : "rgba(231, 76, 60, 0.1)"); border-bottom-color: @(Model.ComplianceStatus == "Compliant" ? "#2ecc71" : "#e74c3c");">
                    <h4 style="margin: 0; color: @(Model.ComplianceStatus == "Compliant" ? "#2ecc71" : "#e74c3c");">üìã Compliance</h4>
                </div>
                <div class="card-body">
                    <div style="text-align: center; padding: 1rem;">
                        <div style="font-size: 0.875rem; color: var(--text-secondary); margin-bottom: 0.5rem;">Status</div>
                        <div style="font-size: 1.5rem; font-weight: 700; color: @(Model.ComplianceStatus == "Compliant" ? "#2ecc71" : "#e74c3c");">
                            @if (Model.ComplianceStatus == "Compliant")
                            {
                                <span>‚úì</span>
                            }
                            else
                            {
                                <span>‚ö†Ô∏è</span>
                            }
                        </div>
                        <div style="font-size: 0.875rem; color: var(--text-secondary); margin-top: 0.5rem;">@Model.ComplianceStatus</div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header" style="background: var(--bg-main);">
                    <h4 style="margin: 0; color: var(--text-secondary);">üìä Recorded</h4>
                </div>
                <div class="card-body">
                    <div style="text-align: center; padding: 1rem;">
                        <div style="font-size: 0.875rem; color: var(--text-secondary); margin-bottom: 0.5rem;">Date/Time</div>
                        <div style="font-size: 1rem; font-weight: 600; color: var(--text-primary);">@Model.RecordedAt.ToString("MMM dd, yyyy")</div>
                        <div style="font-size: 0.875rem; color: var(--text-secondary);">@Model.RecordedAt.ToString("hh:mm tt")</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Action Buttons -->
    <div style="display: flex; gap: 1rem; margin-top: 2rem;">
        <a asp-action="Edit" asp-route-id="@Model.WasteRecordID" class="btn btn-primary">‚úèÔ∏è Edit</a>
        <a asp-action="Delete" asp-route-id="@Model.WasteRecordID" class="btn btn-outline" style="border-color: #e74c3c; color: #e74c3c;">üóëÔ∏è Delete</a>
        <a asp-action="Index" class="btn btn-outline-primary" style="margin-left: auto;">‚Üê Back to List</a>
    </div>
</div>
